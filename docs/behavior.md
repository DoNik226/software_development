# Поведенческие модели
## Диаграмма состояний главного меню
```mermaid
stateDiagram-v2
    state "Главное меню" as MM {
        direction LR
        Play : Играть
        Records : Рекорды
        Help : Помощь
        Exit : Выход
    }
    MM --> MM.Play : Пользователь выбирает пункт "Играть"
    MM --> MM.Records : Пользователь выбирает пункт "Рекорды"
    MM --> MM.Help : Пользователь выбирает пункт "Помощь"
    MM --> MM.Exit : Пользователь выходит из игры
```
Главный модуль показывает возможные варианты выбора пользователя в главном меню игры. Каждый выбор ведет к выполнению соответствующего действия: запуск игры, демонстрация рекордов, открытие помощи или завершение работы программы.
## Диаграмма состояний игрового процесса
```mermaid
stateDiagram-v2
    state "Игровой процесс" as GP {
        Start : Начало игры
        Playing : Игра продолжается
        End : Игра закончилась
    }
    GP.Start --> GP.Playing : Начинается игровой процесс
    GP.Playing --> GP.End : Игрок проиграл или вышел из игры
```
Данная диаграмма отражает этапы прохождения игры: начало, активный игровой процесс и конец игры. Она помогает проследить порядок действий и возможных исходов при прохождении игры.
## Диаграмма состояний записи результата
```mermaid
stateDiagram-v2
    state "Запись результата" as RR {
        SaveRecord : Сохранение рекорда
        ShowRecords : Демонстрация рекордов
    }
    RR.SaveRecord --> RR.ShowRecords : Результат сохранен
    RR.ShowRecords --> RR.SaveRecord :        Новый результат доступен для сохранения
```
Эта диаграмма демонстрирует процесс сохранения и демонстрации рекордов. Из нее видно, как сохраняются новые результаты и каким образом демонстрируются существующие рекорды.
## Диаграмма состояний бонусов
```mermaid
stateDiagram-v2
    state "Бонус" as BN {
        Active : Активный
        Inactive : Неактивный
        Expired : Истёкший
    }
    BN.Active --> BN.Inactive : Время существования истечёт
    BN.Inactive --> BN.Expired : Время ожидания завершения
    BN.Active --> BN.Expired : Прямой переход, если игрок собирает бонус
```
Эта диаграмма объясняет, как работают бонусы в процессе игры. Когда бонус появляется на экране, он находится в состоянии активного периода, пока не истечёт отведённое время. Затем бонус переходит в неактивное состояние и ожидает удаления. Если игрок соберёт бонус раньше окончания срока, он перейдёт в статус истёкшего немедленно.
## Диаграмма состояний защиты игрока (щита)
```mermaid
stateDiagram-v2
    state "Щит" as SH {
    Enabled : Включён
    Disabled : Выключен
    }
SH.Enabled --> SH.Disabled : Срок действия
завершён

SH.Disabled --> SH.Enabled : Игрок собрал щит
```
Здесь представлена работа механизма временной защиты игрока. Изначально щит отключён, и игрок уязвим. Когда игрок собирает специальный бонус, щит включается и защищает игрока на определённый период времени. После истечения указанного интервала щит снова выключается.
## Диаграмма последовательности
```mermaid
sequenceDiagram
    participant User
    participant Menu
    participant Game
    participant Enemy
    participant Ship
    participant Screen

    Note right of User: Пользователь нажимает клавишу запуска игры
    User->>Menu: Выберите пункт "Играть"
    activate Menu
    Menu->>Game: start_game()
    deactivate Menu
    activate Game
    Game->>Screen: render_screen()
    Screen->>Ship: draw_ship()
    Ship->>Screen: show()
    Game->>Enemy: create_enemy()
    Enemy->>Screen: draw_enemy()
    Screen->>User: display_game()
    deactivate Game
```
Последовательность шагов начинается с момента, когда пользователь выбирает пункт "Играть". Далее инициируется игра, создаются необходимые объекты (корабль, враг), осуществляется прорисовка сцены, после чего вся сцена передается обратно пользователю для отображения. Эта диаграмма хорошо демонстрирует последовательность обработки игровых событий и связь между ключевыми классами нашей программы.
